#!/bin/bash

. ${INSTALLER_DIR}/lib/util.sh
. ${INSTALLER_DIR}/lib/util-prepare.sh
. ${INSTALLER_DIR}/lib/util-selectors.sh
. ${INSTALLER_DIR}/lib/util-build.sh

function main()
{
  if selectEnviroment != 1; then
    log "Invalid call selectEnviroment"
  else
    utilPrepareInit
    while :
    do
      export STACK_ACTION=
      export STACK_PROJECT=
      
      if selectAction != 1; then
        log "Invalid selectAction"
        break
      fi

      if selectProject != 1; then
        log "Invalid selectProject"
        continue;
      fi

      buildPrepareProject ${STACK_ACTION} ${STACK_PROJECT}
    done
  fi
}

utilInitialize "$@"
main
